<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/277915; Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="314"/>

<div>
<span><div><h3 style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Helvetica, Tahoma, Arial, sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 102, 0);"><strong>访问者模式（Visitor）</strong></span></h3><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;">访问者模式把数据结构和作用于结构上的操作解耦合，使得操作集合可相对自由地演化。访问者模式适用于数据结构相对稳定算法又易变化的系统。因为访问者模式使得算法操作增加变得容易。若系统数据结构对象易于变化，经常有新的数据对象增加进来，则不适合使用访问者模式。访问者模式的优点是增加操作很容易，因为增加操作意味着增加新的访问者。访问者模式将有关行为集中到一个访问者对象中，其改变不影响系统数据结构。其缺点就是增加新的数据结构很困难。—— From 百科</p><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;">简单来说，访问者模式就是一种分离对象数据结构与行为的方法，通过这种分离，可达到为一个被访问者动态添加新的操作而无需做其它的修改的效果。简单关系图：</p><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;"><img src="http://dl.iteye.com/upload/attachment/0083/1227/96bd38f3-2888-3cc5-b90f-0e7542dc5845.jpg" style="border: 0px; max-width: 100%;"></img></p><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;">来看看原码：一个Visitor类，存放要访问的对象，</p><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;"> </p><div style="color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(231, 229, 220); margin: 18px 0px; width: 1314px; font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; overflow: auto; padding-top: 1px;"><div style="padding-left: 45px;"><div style="border-left-color: rgb(108, 226, 108); border-left-width: 3px; border-left-style: solid; padding: 3px 8px 10px 10px; background-color: rgb(248, 248, 248); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; font-size: 9px;"><strong>[java]</strong> <a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="copy">copy</a></div></div><ol style="font-size: 1em; margin: 0px 0px 1px 45px; padding: 0px; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;"><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>interface</strong></span><span style="margin: 0px; padding: 0px;"> Visitor {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>void</strong></span><span style="margin: 0px; padding: 0px;"> visit(Subject sub);  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">}  </span></li></ol></div><div style="color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(231, 229, 220); margin: 18px 0px; width: 1314px; font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; overflow: auto; padding-top: 1px;"><div style="padding-left: 45px;"><div style="border-left-color: rgb(108, 226, 108); border-left-width: 3px; border-left-style: solid; padding: 3px 8px 10px 10px; background-color: rgb(248, 248, 248); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; font-size: 9px;"><strong>[java]</strong> <a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="copy">copy</a></div></div><ol style="font-size: 1em; margin: 0px 0px 1px 45px; padding: 0px; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;"><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>class</strong></span><span style="margin: 0px; padding: 0px;"> MyVisitor </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>implements</strong></span><span style="margin: 0px; padding: 0px;"> Visitor {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(100, 100, 100); padding: 0px;">@Override</span><span style="margin: 0px; padding: 0px;">  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>void</strong></span><span style="margin: 0px; padding: 0px;"> visit(Subject sub) {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">        System.out.println(<span style="margin: 0px; color: blue; padding: 0px;">&quot;visit the subject：&quot;</span><span style="margin: 0px; padding: 0px;">+sub.getSubject());  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    }  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">}  </span></li></ol></div><span style="color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;">Subject类，accept方法，接受将要访问它的对象，getSubject()获取将要被访问的属性，</span><br style="color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;"/><div style="color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(231, 229, 220); margin: 18px 0px; width: 1314px; font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; overflow: auto; padding-top: 1px;"><div style="padding-left: 45px;"><div style="border-left-color: rgb(108, 226, 108); border-left-width: 3px; border-left-style: solid; padding: 3px 8px 10px 10px; background-color: rgb(248, 248, 248); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; font-size: 9px;"><strong>[java]</strong> <a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="copy">copy</a></div></div><ol style="font-size: 1em; margin: 0px 0px 1px 45px; padding: 0px; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;"><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>interface</strong></span><span style="margin: 0px; padding: 0px;"> Subject {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>void</strong></span><span style="margin: 0px; padding: 0px;"> accept(Visitor visitor);  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> String getSubject();  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">}  </span></li></ol></div><div style="color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(231, 229, 220); margin: 18px 0px; width: 1314px; font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; overflow: auto; padding-top: 1px;"><div style="padding-left: 45px;"><div style="border-left-color: rgb(108, 226, 108); border-left-width: 3px; border-left-style: solid; padding: 3px 8px 10px 10px; background-color: rgb(248, 248, 248); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; font-size: 9px;"><strong>[java]</strong> <a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="copy">copy</a></div></div><ol style="font-size: 1em; margin: 0px 0px 1px 45px; padding: 0px; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;"><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>class</strong></span><span style="margin: 0px; padding: 0px;"> MySubject </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>implements</strong></span><span style="margin: 0px; padding: 0px;"> Subject {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(100, 100, 100); padding: 0px;">@Override</span><span style="margin: 0px; padding: 0px;">  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>void</strong></span><span style="margin: 0px; padding: 0px;"> accept(Visitor visitor) {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">        visitor.visit(<span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>this</strong></span><span style="margin: 0px; padding: 0px;">);  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    }  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(100, 100, 100); padding: 0px;">@Override</span><span style="margin: 0px; padding: 0px;">  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> String getSubject() {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">        <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>return</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: blue; padding: 0px;">&quot;love&quot;</span><span style="margin: 0px; padding: 0px;">;  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    }  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">}  </span></li></ol></div><span style="color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;">测试：</span><div style="color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(231, 229, 220); margin: 18px 0px; width: 1314px; font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; overflow: auto; padding-top: 1px;"><div style="padding-left: 45px;"><div style="border-left-color: rgb(108, 226, 108); border-left-width: 3px; border-left-style: solid; padding: 3px 8px 10px 10px; background-color: rgb(248, 248, 248); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; font-size: 9px;"><strong>[java]</strong> <a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zhangerqing/article/details/8245537" style="color: rgb(16, 138, 198);" target="_blank" title="copy">copy</a></div></div><ol style="font-size: 1em; margin: 0px 0px 1px 45px; padding: 0px; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;"><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>class</strong></span><span style="margin: 0px; padding: 0px;"> Test {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>public</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>static</strong></span><span style="margin: 0px; padding: 0px;"> </span><span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>void</strong></span><span style="margin: 0px; padding: 0px;"> main(String[] args) {  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">          </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">        Visitor visitor = <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>new</strong></span><span style="margin: 0px; padding: 0px;"> MyVisitor();  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">        Subject sub = <span style="margin: 0px; color: rgb(0, 102, 153); padding: 0px;"><strong>new</strong></span><span style="margin: 0px; padding: 0px;"> MySubject();  </span></span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">        sub.accept(visitor);      </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; background-color: rgb(248, 248, 248); padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">    }  </span></li><li style="font-size: 1em; margin: 0px; border-style: none none none solid; border-left-color: rgb(108, 226, 108); border-left-width: 3px; padding: 0px 3px 0px 10px !important;"><span style="margin: 0px; color: black; padding: 0px;">}  </span></li></ol></div><span style="color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;">输出：visit the subject：love</span><p style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial;"><br/></p><div style="margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-family: Arial; font-size: 14px;"><div>该模式适用场景：如果我们想为一个现有的类增加新功能，不得不考虑几个事情：1、新功能会不会与现有功能出现兼容性问题？2、以后会不会再需要添加？3、如果类不允许修改代码怎么办？面对这些问题，最好的解决方法就是使用访问者模式，访问者模式适用于数据结构相对稳定的系统，把数据结构和算法解耦，</div></div></div></span>
</div></body></html> 