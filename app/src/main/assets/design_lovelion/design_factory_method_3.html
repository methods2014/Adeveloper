
<!-- saved from url=(0104)file:///F:/android/workspace/Adeveloper/app/src/main/assets/design_lovelion/design_factory_method_3.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Evernote Export</title>
  <basefont  face="微软雅黑"  size="2">
  
  <meta  name="exporter-version"  content="Evernote Windows/277915; Windows/6.1.7601 Service Pack 1 (Win64);">
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a  name="485">

</a><div><a  name="485">
<span></span></a><div><a  name="485"><div  style="margin: 0px; padding: 0px; font-style: normal; font-variant: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div  style="text-align: center"><b><span  style="font-size: 21px;">工厂方法模式（三）</span></b></div><div><span  style="font-size: 20px;"><span  style="font-family: Arial;"><b><span  style="font-family: Arial;">3&nbsp;</span>完整解决方案</b></span></span></div></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Sunny</span>公司开发人员决定使用工厂方法模式来设计日志记录器，其基本结构如图<span  style="font-family: &#39;Times New Roman&#39;;">3</span>所示：</span></p><p  align="center"  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><img  height="301"  src="./design_factory_method_3_files/20130712102729562"  style="border: none; max-width: 100%; height: auto;"  width="736"></p><p  align="center"  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong><span  style="font-size: 14px;">图<span  style="font-family: &#39;Times New Roman&#39;;">3&nbsp;</span>日志记录器结构图</span></strong></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在图3中，Logger接口充当抽象产品，其子类FileLogger和DatabaseLogger充当具体产品，LoggerFactory接口充当抽象工厂，其子类FileLoggerFactory和DatabaseLoggerFactory充当具体工厂。完整代码如下所示：</span></p></a><div  style="font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><a  name="485"></a><div  style="padding-left: 45px;"><a  name="485"></a><div  style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108);"><a  name="485"><b>[java]</b>&nbsp;</a><a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="view plain">view plain</a>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="copy">copy</a></div></div><ol  start="1"  style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//日志记录器接口：抽象产品</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">interface</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Logger&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">void</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;writeLog();&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//数据库日志记录器：具体产品</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;DatabaseLogger&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">implements</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Logger&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">void</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;writeLog()&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span  style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">"数据库日志记录。"</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//文件日志记录器：具体产品</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;FileLogger&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">implements</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Logger&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">void</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;writeLog()&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span  style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">"文件日志记录。"</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//日志记录器工厂接口：抽象工厂</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">interface</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;LoggerFactory&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Logger&nbsp;createLogger();&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//数据库日志记录器工厂类：具体工厂</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;DatabaseLoggerFactory&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">implements</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;LoggerFactory&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Logger&nbsp;createLogger()&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//连接数据库，代码省略</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//创建数据库日志记录器对象</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logger&nbsp;logger&nbsp;=&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">new</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;DatabaseLogger();&nbsp;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//初始化数据库日志记录器，代码省略</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">return</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;logger;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//文件日志记录器工厂类：具体工厂</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;FileLoggerFactory&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">implements</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;LoggerFactory&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Logger&nbsp;createLogger()&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//创建文件日志记录器对象</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logger&nbsp;logger&nbsp;=&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">new</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;FileLogger();&nbsp;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//创建文件，代码省略</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">return</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;logger;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li></ol></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 编写如下客户端测试代码：</span></p><div  style="font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div  style="padding-left: 45px;"><div  style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108);"><b>[java]</b>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="view plain">view plain</a>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="copy">copy</a></div></div><ol  start="1"  style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Client&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">static</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">void</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;main(String&nbsp;args[])&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoggerFactory&nbsp;factory;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logger&nbsp;logger;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;=&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">new</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;FileLoggerFactory();&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//可引入配置文件实现</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger&nbsp;=&nbsp;factory.createLogger();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.writeLog();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li></ol></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 编译并运行程序，输出结果如下：</span></p><p  align="left"  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><table  border="0"  cellpadding="0"  cellspacing="0"  style="color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(242, 242, 242); background-position: initial initial; background-repeat: initial initial;"><tbody><tr><td  valign="top"><p  style="margin: 0px; padding: 0px;"><span  style="font-size: 14px;">文件日志记录。</span></p></td></tr></tbody></table><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><p  align="left"  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">&nbsp;</p><p  align="left"  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 24px;"><strong>4 反射与配置文件</strong></span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span  style="font-size: 18px;">&nbsp;为了让系统具有更好的灵活性和可扩展性，<span  style="font-family: &#39;Times New Roman&#39;;">Sunny</span>公司开发人员决定对日志记录器客户端代码进行重构，使得可以在不修改任何客户端代码的基础上更换或增加新的日志记录方式。</span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>在客户端代码中将不再使用<span  style="font-family: &#39;Times New Roman&#39;;">new</span>关键字来创建工厂对象，而是将具体工厂类的类名存储在配置文件（如<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>文件）中，通过读取配置文件获取类名字符串，再使用<span  style="font-family: &#39;Times New Roman&#39;;">Java</span>的反射机制，根据类名字符串生成对象。在整个实现过程中需要用到两个技术：<span  style="font-family: &#39;Times New Roman&#39;;">Java</span>反射机制与配置文件读取。软件系统的配置文件通常为<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>文件，我们可以使用<span  style="font-family: &#39;Times New Roman&#39;;">DOM (Document Object Model)</span>、<span  style="font-family: &#39;Times New Roman&#39;;">SAX (Simple API for XML)</span>、<span  style="font-family: &#39;Times New Roman&#39;;">StAX (Streaming API for XML)</span>等技术来处理<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>文件。关于<span  style="font-family: &#39;Times New Roman&#39;;">DOM</span>、<span  style="font-family: &#39;Times New Roman&#39;;">SAX</span>、<span  style="font-family: &#39;Times New Roman&#39;;">StAX</span>等技术的详细学习大家可以参考其他相关资料，在此不予扩展。</span></p><p  align="left"  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><table  border="1"  cellpadding="0"  cellspacing="0"  style="color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><tbody><tr><td  valign="top"><table  border="0"  cellpadding="0"  cellspacing="0"  width="564"><tbody><tr><td  valign="top"><p  align="center"  style="margin: 0px; padding: 0px;"><span  style="font-family: &#39;Times New Roman&#39;; font-size: 18px;"><img  src="./design_factory_method_3_files/Image.gif"  type="image/gif"  alt="微笑"  style="border: none; max-width: 100%; height: auto;"></span></p></td><td  valign="top"><p  style="margin: 0px; padding: 0px;"><strong><span  style="font-size: 18px;">扩展</span></strong></p><p  style="margin: 0px; padding: 0px;"><span  style="font-size: 18px;">关于<span  style="font-family: &#39;Times New Roman&#39;;">Java</span>与<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>的相关资料，大家可以阅读<span  style="font-family: &#39;Times New Roman&#39;;">Tom Myers</span>和<span  style="font-family: &#39;Times New Roman&#39;;">Alexander Nakhimovsky</span>所著的《<span  style="font-family: &#39;Times New Roman&#39;;">Java XML</span>编程指南》一书或访问<span  style="font-family: &#39;Times New Roman&#39;;">developer Works</span>中国中的“<span  style="font-family: &#39;Times New Roman&#39;;">Java XML&nbsp;</span>技术专题”，参考链接：</span></p><p  style="margin: 0px; padding: 0px;"><span  style="font-family: &#39;Times New Roman&#39;; font-size: 18px;">http://www.ibm.com/developerworks/cn/xml/theme/x-java.html</span></p></td></tr></tbody></table><p  style="margin: 0px; padding: 0px;"></p></td></tr></tbody></table><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><strong><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Java</span>反射<span  style="font-family: &#39;Times New Roman&#39;;">(Java Reflection)</span></strong>是指在程序运行时获取已知名称的类或已有对象的相关信息的一种机制，包括类的方法、属性、父类等信息，还包括实例的创建和实例类型的判断等。在反射中使用最多的类是<span  style="font-family: &#39;Times New Roman&#39;;">Class</span>，<span  style="font-family: &#39;Times New Roman&#39;;">Class</span>类的实例表示正在运行的<span  style="font-family: &#39;Times New Roman&#39;;">Java</span>应用程序中的类和接口，其<span  style="font-family: &#39;Times New Roman&#39;;">forName(String className)</span>方法可以返回与带有给定字符串名的类或接口相关联的<span  style="font-family: &#39;Times New Roman&#39;;">Class</span>对象，再通过<span  style="font-family: &#39;Times New Roman&#39;;">Class</span>对象的<span  style="font-family: &#39;Times New Roman&#39;;">newInstance()</span>方法创建此对象所表示的类的一个新实例，即通过一个类名字符串得到类的实例。如创建一个字符串类型的对象，其代码如下：</span></p><div  style="font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div  style="padding-left: 45px;"><div  style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108);"><b>[java]</b>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="view plain">view plain</a>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="copy">copy</a></div></div><ol  start="1"  style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//通过类名生成实例对象并将其返回</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">Class&nbsp;c=Class.forName(<span  style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">"String"</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">Object&nbsp;obj=c.newInstance();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">return</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;obj;&nbsp;&nbsp;</span></span></li></ol></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 此外，在<span  style="font-family: &#39;Times New Roman&#39;;">JDK</span>中还提供了<span  style="font-family: &#39;Times New Roman&#39;;">java.lang.reflect</span>包，封装了其他与反射相关的类，此处只用到上述简单的反射代码，在此不予扩展。</span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sunny</span>公司开发人员创建了如下<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>格式的配置文件<span  style="font-family: &#39;Times New Roman&#39;;">config.xml</span>用于存储具体日志记录器工厂类类名：</span></p><div  style="font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div  style="padding-left: 45px;"><div  style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108);"><b>[html]</b>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="view plain">view plain</a>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="copy">copy</a></div></div><ol  start="1"  style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&lt;!—&nbsp;config.xml&nbsp;--</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&gt;</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&lt;?</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">xml</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: red; background-color: inherit;">version</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">=</span><span  style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">"1.0"</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">?&gt;</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&lt;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">config</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&gt;</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&lt;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">className</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&gt;</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">FileLoggerFactory</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&lt;/</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">className</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&gt;</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&lt;/</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">config</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(153, 51, 0); background-color: inherit; font-weight: bold;">&gt;</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li></ol></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为了读取该配置文件并通过存储在其中的类名字符串反射生成对象，<span  style="font-family: &#39;Times New Roman&#39;;">Sunny</span>公司开发人员开发了一个名为<span  style="font-family: &#39;Times New Roman&#39;;">XMLUtil</span>的工具类，其详细代码如下所示：</span></p><div  style="font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div  style="padding-left: 45px;"><div  style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108);"><b>[java]</b>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="view plain">view plain</a>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="copy">copy</a></div></div><ol  start="1"  style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//工具类XMLUtil.java</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">import</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;javax.xml.parsers.*;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">import</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;org.w3c.dom.*;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">import</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;org.xml.sax.SAXException;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">import</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;java.io.*;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;XMLUtil&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//该方法用于从XML配置文件中提取具体类类名，并返回一个实例对象</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">static</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Object&nbsp;getBean()&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">try</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//创建DOM文档对象</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentBuilderFactory&nbsp;dFactory&nbsp;=&nbsp;DocumentBuilderFactory.newInstance();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentBuilder&nbsp;builder&nbsp;=&nbsp;dFactory.newDocumentBuilder();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Document&nbsp;doc;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doc&nbsp;=&nbsp;builder.parse(<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">new</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;File(</span><span  style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">"config.xml"</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">));&nbsp;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//获取包含类名的文本节点</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NodeList&nbsp;nl&nbsp;=&nbsp;doc.getElementsByTagName(<span  style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;">"className"</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;classNode=nl.item(<span  style="margin: 0px; padding: 0px; border: none; color: rgb(192, 0, 0); background-color: inherit;">0</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">).getFirstChild();&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;cName=classNode.getNodeValue();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//通过类名生成实例对象并将其返回</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&nbsp;c=Class.forName(cName);&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;obj=c.newInstance();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">return</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;obj;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">catch</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">(Exception&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">return</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">null</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">;&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li></ol></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 有了<span  style="font-family: &#39;Times New Roman&#39;;">XMLUtil</span>类后，可以对日志记录器的客户端代码进行修改，不再直接使用<span  style="font-family: &#39;Times New Roman&#39;;">new</span>关键字来创建具体的工厂类，而是将具体工厂类的类名存储在<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>文件中，再通过<span  style="font-family: &#39;Times New Roman&#39;;">XMLUtil</span>类的静态工厂方法<span  style="font-family: &#39;Times New Roman&#39;;">getBean()</span>方法进行对象的实例化，代码修改如下：</span></p><div  style="font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div  style="padding-left: 45px;"><div  style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(108, 226, 108);"><b>[java]</b>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="view plain">view plain</a>&nbsp;<a  href="http://blog.csdn.net/lovelion/article/details/9307137#"  style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;"  title="copy">copy</a></div></div><ol  start="1"  style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">class</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;Client&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">public</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">static</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;</span><span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;">void</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;main(String&nbsp;args[])&nbsp;{&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoggerFactory&nbsp;factory;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logger&nbsp;logger;&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;=&nbsp;(LoggerFactory)XMLUtil.getBean();&nbsp;<span  style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//getBean()的返回类型为Object，需要进行强制类型转换</span><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;</span></span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger&nbsp;=&nbsp;factory.createLogger();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.writeLog();&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(248, 248, 248); color: rgb(92, 92, 92);"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li  style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(108, 226, 108); list-style: decimal-leading-zero outside; background-color: rgb(255, 255, 255); color: inherit;"><span  style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}&nbsp;&nbsp;</span></li></ol></div><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 引入<span  style="font-family: &#39;Times New Roman&#39;;">XMLUtil</span>类和<span  style="font-family: &#39;Times New Roman&#39;;">XML</span>配置文件后，如果要增加新的日志记录方式，只需要执行如下几个步骤：</span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;(1)&nbsp;</span></span><span  style="color: black;">新的日志记录器需要继承抽象日志记录器</span><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">Logger</span></span><span  style="color: black;">；</span></span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (2)&nbsp;</span></span><span  style="color: black;">对应增加一个新的具体日志记录器工厂，继承抽象日志记录器工厂</span><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">LoggerFactory</span></span><span  style="color: black;">，并实现其中的工厂方法</span><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">createLogger()</span></span><span  style="color: black;">，设置好初始化参数和环境变量，返回具体日志记录器对象；</span></span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (3)&nbsp;</span></span><span  style="color: black;">修改配置文件</span><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">config.xml</span></span><span  style="color: black;">，将新增的具体日志记录器工厂类的类名字符串替换原有工厂类类名字符串；</span></span></p><p  style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span  style="font-size: 18px;"><span  style="color: black;"><span  style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (4)&nbsp;</span></span><span  style="color: black;">编译新增的具体日志记录器类和具体日志记录器工厂类，运行客户端测试类即可使用新的日志记录方式，而原有类库代码无须做任何修改，完全符合“开闭原则”。</span></span></p><div  style="margin: 0px; padding: 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span  style="font-size: 14px;"><span  style="font-family: Arial;"><span  style="font-size: 18px;"><span  style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过上述重构可以使得系统更加灵活，由于很多设计模式都关注系统的可扩展性和灵活性，因此都定义了抽象层，在抽象层中声明业务方法，而将业务方法的实现放在实现层中。</span></span></span></span></div></div></div>
</div></body></html>